{"version":8,"type":"context-options","origin":"testRunner","browserName":"","options":{},"platform":"darwin","wallTime":1765431131529,"monotonicTime":714.306,"sdkLanguage":"javascript"}
{"type":"before","callId":"hook@1","stepId":"hook@1","startTime":715.643,"class":"Test","method":"hook","title":"Before Hooks","params":{},"stack":[]}
{"type":"before","callId":"hook@2","stepId":"hook@2","parentId":"hook@1","startTime":715.963,"class":"Test","method":"hook","title":"beforeEach hook","params":{},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":45,"column":8}]}
{"type":"before","callId":"fixture@28","stepId":"fixture@28","parentId":"hook@2","startTime":720.83,"class":"Test","method":"fixture","title":"Fixture \"browser\"","params":{},"stack":[]}
{"type":"before","callId":"pw:api@29","stepId":"pw:api@29","parentId":"fixture@28","startTime":722.425,"class":"Test","method":"pw:api","title":"Launch browser","params":{"handleSIGINT":"false","tracesDir":"/Users/annemarie/Documents/temp/GitHub/Headline/test-results/.playwright-artifacts-0/traces","headless":"true","ignoreDefaultArgs":"undefined","ignoreAllDefaultArgs":"false","env":"undefined","timeout":"180000"},"stack":[]}
{"type":"after","callId":"pw:api@29","endTime":818.433,"annotations":[]}
{"type":"after","callId":"fixture@28","endTime":818.502,"annotations":[]}
{"type":"before","callId":"fixture@32","stepId":"fixture@32","parentId":"hook@2","startTime":819.255,"class":"Test","method":"fixture","title":"Fixture \"context\"","params":{},"stack":[]}
{"type":"before","callId":"pw:api@33","stepId":"pw:api@33","parentId":"fixture@32","startTime":819.983,"class":"Test","method":"pw:api","title":"Create context","params":{"acceptDownloads":"accept","bypassCSP":"false","colorScheme":"light","deviceScaleFactor":"1","hasTouch":"false","ignoreHTTPSErrors":"false","isMobile":"false","javaScriptEnabled":"true","locale":"en-US","offline":"false","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":"Object","baseURL":"http://localhost:2368","serviceWorkers":"allow","recordVideo":"Object","selectorEngines":"[]","testIdAttributeName":"data-testid","noDefaultViewport":"false","extraHTTPHeaders":"undefined","storageState":"undefined","reducedMotion":"undefined","forcedColors":"undefined","contrast":"undefined","clientCertificates":"undefined"},"stack":[]}
{"type":"after","callId":"pw:api@33","endTime":822.792,"annotations":[]}
{"type":"after","callId":"fixture@32","endTime":824.36,"annotations":[]}
{"type":"before","callId":"fixture@34","stepId":"fixture@34","parentId":"hook@2","startTime":824.54,"class":"Test","method":"fixture","title":"Fixture \"page\"","params":{},"stack":[]}
{"type":"before","callId":"pw:api@35","stepId":"pw:api@35","parentId":"fixture@34","startTime":825.152,"class":"Test","method":"pw:api","title":"Create page","params":{},"stack":[]}
{"type":"after","callId":"pw:api@35","endTime":874.568,"annotations":[]}
{"type":"after","callId":"fixture@34","endTime":874.592,"annotations":[]}
{"type":"before","callId":"pw:api@36","stepId":"pw:api@36","parentId":"hook@2","startTime":875.289,"class":"Test","method":"pw:api","title":"Add init script","params":{"source":"(() => {\n        window.__QC_TEST_SKIP_ACCESS = true;\n      })(undefined)"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":49,"column":7}],"group":"configuration"}
{"type":"after","callId":"pw:api@36","endTime":875.96,"annotations":[]}
{"type":"before","callId":"pw:api@37","stepId":"pw:api@37","parentId":"hook@2","startTime":876.768,"class":"Test","method":"pw:api","title":"Navigate to \"/\"","params":{"url":"http://localhost:2368","waitUntil":"load","timeout":"0"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":55,"column":16}]}
{"type":"after","callId":"pw:api@37","endTime":2227.922,"annotations":[]}
{"type":"before","callId":"pw:api@38","stepId":"pw:api@38","parentId":"hook@2","startTime":2228.771,"class":"Test","method":"pw:api","title":"Evaluate","params":{"expression":"() => {\n      localStorage.removeItem('qc_persona_choice');\n      localStorage.removeItem('qc_persona_confirmed');\n    }","isFunction":"true","arg":"Object"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":56,"column":16}]}
{"type":"after","callId":"pw:api@38","endTime":2232.48,"annotations":[]}
{"type":"after","callId":"hook@2","endTime":2232.533,"annotations":[]}
{"type":"after","callId":"hook@1","endTime":2232.659,"annotations":[]}
{"type":"before","callId":"pw:api@39","stepId":"pw:api@39","startTime":2233.222,"class":"Test","method":"pw:api","title":"Navigate to \"/\"","params":{"url":"http://localhost:2368","waitUntil":"load","timeout":"0"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":517,"column":14,"function":"setupPersonaState"}]}
{"type":"after","callId":"pw:api@39","endTime":2677.668,"annotations":[]}
{"type":"before","callId":"pw:api@40","stepId":"pw:api@40","startTime":2678.199,"class":"Test","method":"pw:api","title":"Evaluate","params":{"expression":"id => {\n    localStorage.setItem('qc_persona_choice', id);\n    localStorage.setItem('qc_persona_confirmed', 'true');\n  }","isFunction":"true","arg":"Object"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":518,"column":14,"function":"setupPersonaState"}]}
{"type":"after","callId":"pw:api@40","endTime":2681.408,"annotations":[]}
{"type":"before","callId":"pw:api@41","stepId":"pw:api@41","startTime":2682.082,"class":"Test","method":"pw:api","title":"Add init script","params":{"source":"(() => {\n      window.__QC_TEST_SKIP_ACCESS = true;\n    })(undefined)"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":18,"column":5,"function":"signin"}],"group":"configuration"}
{"type":"after","callId":"pw:api@41","endTime":2682.491,"annotations":[]}
{"type":"stdout","timestamp":2682.647,"text":"   Using Admin API impersonation for me@annemariecharrett.com\n"}
{"type":"before","callId":"pw:api@42","stepId":"pw:api@42","startTime":2738.982,"class":"Test","method":"pw:api","title":"Navigate to \"/members/?token=hFJ4tkU8mavCB5ZHVDi4egbXdM1sriR1&action=signin\"","params":{"url":"http://localhost:2368/members/?token=hFJ4tkU8mavCB5ZHVDi4egbXdM1sriR1&action=signin","waitUntil":"networkidle","timeout":"0"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/test-helpers.js","line":96,"column":16,"function":"signinViaImpersonation"}]}
{"type":"after","callId":"pw:api@42","endTime":7303.414,"annotations":[]}
{"type":"before","callId":"pw:api@43","stepId":"pw:api@43","startTime":7303.976,"class":"Test","method":"pw:api","title":"Get cookies","params":{"urls":"[]"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/test-helpers.js","line":99,"column":42,"function":"signinViaImpersonation"}],"group":"getter"}
{"type":"after","callId":"pw:api@43","endTime":7304.832,"annotations":[]}
{"type":"stdout","timestamp":7304.895,"text":"   âœ“ Signed in via impersonation as me@annemariecharrett.com\n"}
{"type":"before","callId":"pw:api@44","stepId":"pw:api@44","startTime":7305.376,"class":"Test","method":"pw:api","title":"Navigate to \"/\"","params":{"url":"http://localhost:2368","waitUntil":"load","timeout":"0"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":525,"column":14,"function":"setupPersonaState"}]}
{"type":"after","callId":"pw:api@44","endTime":7724.743,"annotations":[]}
{"type":"before","callId":"expect@45","stepId":"expect@45","startTime":7725.982,"class":"Test","method":"expect","title":"Expect \"toBeEnabled\"","params":{"expected":"Object"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":530,"column":28,"function":"setupPersonaState"}]}
{"type":"after","callId":"expect@45","endTime":7743.321,"annotations":[]}
{"type":"before","callId":"pw:api@46","stepId":"pw:api@46","startTime":7743.868,"class":"Test","method":"pw:api","title":"Click locator('#qc-chat-button')","params":{"selector":"#qc-chat-button","strict":"true","timeout":"0"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":531,"column":20,"function":"setupPersonaState"}]}
{"type":"after","callId":"pw:api@46","endTime":7815.548,"annotations":[]}
{"type":"before","callId":"expect@47","stepId":"expect@47","startTime":7816.003,"class":"Test","method":"expect","title":"Expect \"toBeVisible\"","params":{},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":535,"column":30,"function":"setupPersonaState"}]}
{"type":"after","callId":"expect@47","endTime":7819.074,"annotations":[]}
{"type":"before","callId":"expect@48","stepId":"expect@48","startTime":7819.44,"class":"Test","method":"expect","title":"Expect \"toHaveText\"","params":{"expected":"Software Engineer"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":549,"column":30,"function":"testPersonaSwitch"}]}
{"type":"after","callId":"expect@48","endTime":7822.913,"annotations":[]}
{"type":"before","callId":"pw:api@49","stepId":"pw:api@49","startTime":7823.293,"class":"Test","method":"pw:api","title":"Click locator('#qc-persona-button')","params":{"selector":"#qc-persona-button","strict":"true","timeout":"0"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":553,"column":23,"function":"testPersonaSwitch"}]}
{"type":"after","callId":"pw:api@49","endTime":8208.53,"annotations":[]}
{"type":"before","callId":"pw:api@50","stepId":"pw:api@50","startTime":8209.373,"class":"Test","method":"pw:api","title":"Click locator('[data-persona=\"TEST_LEAD\"]')","params":{"selector":"[data-persona=\"TEST_LEAD\"]","strict":"true","timeout":"0"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":557,"column":18,"function":"testPersonaSwitch"}]}
{"type":"after","callId":"pw:api@50","endTime":8460.634,"annotations":[]}
{"type":"before","callId":"pw:api@51","stepId":"pw:api@51","startTime":8461.101,"class":"Test","method":"pw:api","title":"Evaluate","params":{"expression":"() => ({\n    persona: localStorage.getItem('qc_persona_choice'),\n    confirmed: localStorage.getItem('qc_persona_confirmed')\n  })","isFunction":"true","arg":"Object"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":560,"column":29,"function":"testPersonaSwitch"}]}
{"type":"after","callId":"pw:api@51","endTime":8464.077,"annotations":[]}
{"type":"stdout","timestamp":8464.29,"text":"DEBUG localStorage after click: { persona: \u001b[32m'SOFTWARE_ENGINEER'\u001b[39m, confirmed: \u001b[32m'true'\u001b[39m }\n"}
{"type":"before","callId":"expect@52","stepId":"expect@52","startTime":8464.729,"class":"Test","method":"expect","title":"Expect \"toHaveText\"","params":{"expected":"Test Lead"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":567,"column":30,"function":"testPersonaSwitch"}]}
{"type":"after","callId":"expect@52","endTime":8468.419,"annotations":[]}
{"type":"before","callId":"pw:api@53","stepId":"pw:api@53","startTime":8468.842,"class":"Test","method":"pw:api","title":"Wait for function","params":{"timeout":"5000","pollingInterval":"undefined","expression":"id => localStorage.getItem('qc_persona_choice') === id","isFunction":"true","arg":"Object"},"stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":571,"column":14,"function":"testPersonaSwitch"}]}
{"type":"after","callId":"pw:api@53","endTime":13474.97,"annotations":[],"error":{"name":"","message":"TimeoutError: page.waitForFunction: Timeout 5000ms exceeded.","stack":"TimeoutError: page.waitForFunction: Timeout 5000ms exceeded.\n    at testPersonaSwitch (/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js:571:14)\n    at /Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js:164:5"}}
{"type":"error","message":"TimeoutError: page.waitForFunction: Timeout 5000ms exceeded.","stack":[{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":571,"column":14,"function":"testPersonaSwitch"},{"file":"/Users/annemarie/Documents/temp/GitHub/Headline/tests/persona-switching.spec.js","line":164,"column":5}]}
{"type":"before","callId":"hook@54","stepId":"hook@54","startTime":13475.355,"class":"Test","method":"hook","title":"After Hooks","params":{},"stack":[]}
{"type":"before","callId":"fixture@55","stepId":"fixture@55","parentId":"hook@54","startTime":13536.503,"class":"Test","method":"fixture","title":"Fixture \"page\"","params":{},"stack":[]}
{"type":"after","callId":"fixture@55","endTime":13536.56,"annotations":[]}
{"type":"before","callId":"fixture@56","stepId":"fixture@56","parentId":"hook@54","startTime":13536.666,"class":"Test","method":"fixture","title":"Fixture \"context\"","params":{},"stack":[]}
{"type":"before","callId":"pw:api@57","stepId":"pw:api@57","parentId":"fixture@56","startTime":13827.165,"class":"Test","method":"pw:api","title":"Close context","params":{"reason":"Test ended."},"stack":[]}
{"type":"after","callId":"pw:api@57","endTime":13834.689,"annotations":[]}
{"type":"after","callId":"fixture@56","endTime":13836.402,"attachments":[{"name":"video","contentType":"video/webm","sha1":"94eeabf66210008cb8b269c67ed6fc236d56e6d4"}],"annotations":[]}
{"type":"before","callId":"attach@2c05c7b8fbd584b663a711e14ee37568","stepId":"attach@2c05c7b8fbd584b663a711e14ee37568","startTime":13837.022,"class":"Test","method":"test.attach","title":"Attach \"error-context\"","params":{},"stack":[]}
{"type":"after","callId":"attach@2c05c7b8fbd584b663a711e14ee37568","endTime":13837.025,"attachments":[{"name":"error-context","contentType":"text/markdown","sha1":"32c46ffd301a33d4119e2f8129e7156faade06ea"}]}
{"type":"before","callId":"fixture@66","stepId":"fixture@66","parentId":"hook@54","startTime":13837.563,"class":"Test","method":"fixture","title":"Fixture \"baseURL\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@66","endTime":13837.569,"annotations":[]}
{"type":"before","callId":"fixture@67","stepId":"fixture@67","parentId":"hook@54","startTime":13837.636,"class":"Test","method":"fixture","title":"Fixture \"userAgent\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@67","endTime":13837.64,"annotations":[]}
{"type":"before","callId":"fixture@69","stepId":"fixture@69","parentId":"hook@54","startTime":13837.764,"class":"Test","method":"fixture","title":"Fixture \"viewport\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@69","endTime":13837.769,"annotations":[]}
{"type":"before","callId":"fixture@76","stepId":"fixture@76","parentId":"hook@54","startTime":13838.213,"class":"Test","method":"fixture","title":"Fixture \"isMobile\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@76","endTime":13838.216,"annotations":[]}
{"type":"before","callId":"fixture@80","stepId":"fixture@80","parentId":"hook@54","startTime":13838.465,"class":"Test","method":"fixture","title":"Fixture \"hasTouch\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@80","endTime":13838.469,"annotations":[]}
{"type":"before","callId":"fixture@82","stepId":"fixture@82","parentId":"hook@54","startTime":13838.602,"class":"Test","method":"fixture","title":"Fixture \"deviceScaleFactor\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@82","endTime":13838.606,"annotations":[]}
{"type":"after","callId":"hook@54","endTime":13838.95,"attachments":[{"name":"screenshot","contentType":"image/png","sha1":"bf3eab0895a37727df5033b6447accd0649c5ae4"}],"annotations":[]}
{"type":"before","callId":"hook@88","stepId":"hook@88","startTime":13839.032,"class":"Test","method":"hook","title":"Worker Cleanup","params":{},"stack":[]}
{"type":"before","callId":"fixture@91","stepId":"fixture@91","parentId":"hook@88","startTime":13839.297,"class":"Test","method":"fixture","title":"Fixture \"video\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@91","endTime":13839.301,"annotations":[]}
{"type":"before","callId":"fixture@92","stepId":"fixture@92","parentId":"hook@88","startTime":13839.372,"class":"Test","method":"fixture","title":"Fixture \"browser\"","params":{},"stack":[]}
{"type":"after","callId":"fixture@92","endTime":13849.921,"annotations":[]}
{"type":"before","callId":"fixture@96","stepId":"fixture@96","parentId":"hook@88","startTime":13850.231,"class":"Test","method":"fixture","title":"Fixture \"defaultBrowserType\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@96","endTime":13850.236,"annotations":[]}
{"type":"before","callId":"fixture@97","stepId":"fixture@97","parentId":"hook@88","startTime":13850.29,"class":"Test","method":"fixture","title":"Fixture \"screenshot\"","params":{},"stack":[{"file":"project#chromium","line":1,"column":1}],"group":"configuration"}
{"type":"after","callId":"fixture@97","endTime":13850.295,"annotations":[]}
{"type":"after","callId":"hook@88","endTime":13850.599,"annotations":[]}